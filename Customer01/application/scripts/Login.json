{
  "name": "Login",
  "type": "SCRIPT",
  "tbId": "wt_tab_040_",
  "extension": "",
  "content": "import { Component,\tOnInit,\tOnDestroy, ChangeDetectorRef, ViewChildren,\tQueryList, ChangeDetectionStrategy,\tElementRef,\tInput, AfterViewInit, ViewChild,} from \"@angular/core\";\nimport { FormGroup } from \"@angular/forms\";\nimport { XelerateService } from \"src/shared/services/xelerate.service\";\nimport { SimpleBaseClass } from \"src/shared/templates/SimpleBaseClass.component\";\nimport LoginInfo from \"./login-info.json\";\nimport { ContextProvider } from \"src/shared/services/context-provider.service\";\nimport { XelerateDatatableDirective } from \"src/shared/directives/datatable.directive\";\n@Component({\n\tselector: \"app-login\",\n\ttemplateUrl: \"./login.component.html\",\n\tproviders: [ContextProvider],\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class Login extends SimpleBaseClass {\n    name: string = \"Login\";\n\tconstructor(\n\t\tpublic xelerate: XelerateService,\n\t\tpublic cp: ContextProvider,\n\t\tpublic changeDetectorRef: ChangeDetectorRef,\n\t\tpublic elmRef: ElementRef\n\t) {\n\t\tsuper(xelerate, LoginInfo);\n\t}\n\tngAfterViewInit() {\n\t\tthis.personalizeView();\n\t}\n\tasync personalizeView() {\n\t\tthis.prefs = await this.xelerate.server.getContent({ url: \"assets/\" + this.name + \"_prefs.json\" });\n\t\tthis.xelerate.personalizeWidgets(this);\n\t}\n    launchLanding() {\n        // this.xlmx.loadComponent({compClass:custEnt_detailed});\n        let usrId = this.xelerate.getValue(\"customerId\");\n        let password = this.xelerate.getValue(\"password\");\n        let req = { header: { userId: usrId, reqType: \"Login\" }, body: { userId: usrId, password: password } };\n        let params = { callback: this.loginCB, context: this };\n        params['reqObj'] = req;\n        this.xelerate.server.postRequest(params);\n    }\n\n    loginCB(params) {\n        console.log(params);\n        if (params.resObj.header.status == \"SUCCESS\") {\n            this.xelerate.data.transferData.set(\"userId\", params.resObj.header.userId);\n            this.xelerate.loadComponent({ compName: \"CustomerQuery_xelerate\" });\n        }\n    }\n}"
}